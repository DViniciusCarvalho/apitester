(()=>{"use strict";function e(e){return e in["POST","PUT","PATCH"]}function t(e){const t=document.createElement("tr");e.appendChild(t);const o=document.createElement("td");o.setAttribute("contenteditable","true"),o.setAttribute("spellcheck","false"),t.appendChild(o);const s=document.createElement("td");s.setAttribute("contenteditable","true"),s.setAttribute("spellcheck","false"),t.appendChild(s);const r=document.createElement("td");t.appendChild(r);const c=document.createElement("img");c.setAttribute("src","../../assets/delete.png"),c.setAttribute("alt","garbage icon"),c.addEventListener("click",(t=>n(t,e))),r.appendChild(c),o.focus()}function n(e,t){var o,s;const r=null===(o=e.target.parentElement)||void 0===o?void 0:o.parentElement;t.removeChild(r),null===(s=e.target)||void 0===s||s.removeEventListener("click",(e=>n(e,t)))}var o=function(e,t,n,o){return new(n||(n=Promise))((function(s,r){function c(e){try{i(o.next(e))}catch(e){r(e)}}function a(e){try{i(o.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}i((o=o.apply(e,t||[])).next())}))};const s=document.querySelector(".send__button"),r=document.querySelector(".add__request__header__button"),c=document.querySelector(".request__headers__body");s.addEventListener("click",(function(){return o(this,void 0,void 0,(function*(){const t=document.querySelector(".url").value,n=document.querySelector(".method").value.toUpperCase(),s=function(t,n,o){return e(t)?{method:t,headers:n,body:o}:{method:t,headers:n}}(n,function(){const e=c.children;return Array.from(e).reduce(((e,t)=>{const n=t.children,o=n[0],s=n[1],r=o.textContent,c=s.textContent;return e[r]=c,e}),{})}(),function(t){const n=document.querySelector(".request__body").textContent;if(e(t)){try{const e=JSON.parse(n);return JSON.stringify(e)}catch(e){window.alert('Invalid data format. Strings must be between " "')}throw Error}}(n)),{status:r,statusText:a,ok:i,data:u,headers:l,body:d,latency:m}=yield function(e,t){return o(this,void 0,void 0,(function*(){const n=performance.now(),s=yield fetch(e,t),r=performance.now();return function(e,t){return o(this,void 0,void 0,(function*(){const{status:n,statusText:o,ok:s,headers:r,body:c}=e,a=yield e.json().then((e=>e)).catch((e=>o));return{status:n,statusText:o,ok:s,data:a,headers:r,body:c,latency:t}}))}(s,Number((r-n).toFixed(0)))}))}(t,s);!function(e,t,n,o,s,r,c){(function(e,t,n){const o=document.querySelector(".response__data__status__code");!function(e,t){const n=null==e?void 0:e.classList.contains("not--ok"),o=null==e?void 0:e.classList.contains("ok");t?(n&&(null==e||e.classList.remove("not--ok")),null==e||e.classList.add("ok")):(o&&(null==e||e.classList.remove("ok")),null==e||e.classList.add("not--ok"))}(o,n);const s=e.toString();o.textContent=s,o.title=t})(e,t,n),function(e){const t=document.querySelector(".response__data"),n=JSON.stringify(e,null,4).replace(/"([^"]*)"/g,'<span class="string">"$1"</span>').replace(/\b\d+\b/g,'<span class="number">$&</span>').replace(/\b(true|false)\b/g,'<span class="boolean">$&</span>');t.innerHTML=n}(o),function(e,t){const n=document.querySelector(".response__data__bytes__size"),o=null==e?void 0:e.get("content-length"),s=`${function(e){const t=[{prefix:"",minBytes:0},{prefix:"K",minBytes:1024},{prefix:"M",minBytes:Math.pow(1024,2)},{prefix:"G",minBytes:Math.pow(1024,3)}];return t.reduce(((n,o,s)=>{const r=e>=o.minBytes,c=s+1,a=c<t.length,i=!!t[c]&&e<t[c].minBytes;if(r&&a&&i){const t=o.minBytes?o.minBytes:1,s=o.minBytes?2:0;n+=e===o.minBytes?`1${o.prefix}`:`${(e/t).toFixed(s)}${o.prefix}`}return n}),"")}(o?Number(o):(null==t||t.getReader().read().then((e=>{if("value"in e&&null!==e.value)return e.value.byteLength})),0))}B`;n.textContent=s}(s,r),function(e){const t=document.querySelector(".response__data__latency"),n=`${e.toFixed(0)}ms`;t.textContent=n,t.classList.remove("good--latency"),t.classList.remove("average--latency"),t.classList.remove("bad--latency"),e<100?t.classList.add("good--latency"):100===e||e<=500?t.classList.add("average--latency"):t.classList.add("bad--latency")}(c)}(r,a,i,u,l,d,m)}))})),r.addEventListener("click",(()=>t(c)))})();