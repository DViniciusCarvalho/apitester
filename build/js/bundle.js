(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){return e in["POST","PUT","PATCH"]}function n(e){const t=document.createElement("tr");e.appendChild(t);const n=document.createElement("td");n.setAttribute("contenteditable","true"),n.setAttribute("spellcheck","false"),t.appendChild(n);const s=document.createElement("td");s.setAttribute("contenteditable","true"),s.setAttribute("spellcheck","false"),t.appendChild(s);const r=document.createElement("td");t.appendChild(r);const c=document.createElement("img");c.setAttribute("src","../../assets/delete.png"),c.setAttribute("alt","garbage icon"),c.addEventListener("click",(t=>o(t,e))),r.appendChild(c),n.focus()}function o(e,t){var n,s;const r=null===(n=e.target.parentElement)||void 0===n?void 0:n.parentElement;t.removeChild(r),null===(s=e.target)||void 0===s||s.removeEventListener("click",(e=>o(e,t)))}e.d({},{q:()=>r});var s=function(e,t,n,o){return new(n||(n=Promise))((function(s,r){function c(e){try{i(o.next(e))}catch(e){r(e)}}function a(e){try{i(o.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,a)}i((o=o.apply(e,t||[])).next())}))};const r=999,c=document.querySelector(".send__button"),a=document.querySelector(".add__request__header__button"),i=document.querySelector(".request__headers__body");function u(e,t){return s(this,void 0,void 0,(function*(){const{status:n,statusText:o,ok:s,headers:r,body:c}=e,a=yield e.json().then((e=>e)).catch((e=>o));return{status:n,statusText:o,ok:s,data:a,headers:r,body:c,latency:t}}))}c.addEventListener("click",(function(){return s(this,void 0,void 0,(function*(){const e=document.querySelector(".url").value,n=document.querySelector(".method").value.toUpperCase(),o=function(e,n,o){return t(e)?{method:e,headers:n,body:o}:{method:e,headers:n}}(n,function(){const e=i.children;return Array.from(e).reduce(((e,t)=>{const n=t.children,o=n[0],s=n[1],r=o.textContent,c=s.textContent;return e[r]=c,e}),{})}(),function(e){const n=document.querySelector(".request__body").textContent;if(t(e)){try{const e=JSON.parse(n);return JSON.stringify(e)}catch(e){window.alert('Invalid data format. Strings must be between " "')}throw Error}}(n)),{status:c,statusText:a,ok:d,data:l,headers:m,body:y,latency:f}=yield function(e,t){return s(this,void 0,void 0,(function*(){const n=performance.now();try{const o=yield fetch(e,t),s=performance.now();return u(o,Number((s-n).toFixed(0)))}catch(e){const t={status:r,statusText:"Unknown",ok:!1,headers:{"content-length":e.message.length,get:e=>t.headers[e]},body:{},json:()=>new Promise((t=>t(e.message)))},o=performance.now(),s=Number((o-n).toFixed(0));return u(t,s)}}))}(e,o);!function(e,t,n,o,s,c,a){(function(e,t,n){const o=document.querySelector(".response__data__status__code");!function(e,t){const n=null==e?void 0:e.classList.contains("not--ok"),o=null==e?void 0:e.classList.contains("ok");t?(n&&(null==e||e.classList.remove("not--ok")),null==e||e.classList.add("ok")):(o&&(null==e||e.classList.remove("ok")),null==e||e.classList.add("not--ok"))}(o,n);const s=e.toString();o.textContent=e===r?"?":s,o.title=t})(e,t,n),function(e){const t=document.querySelector(".response__data"),n=JSON.stringify(e,null,4).replace(/"([^"]*)"/g,'<span class="string">"$1"</span>').replace(/\b\d+\b/g,'<span class="number">$&</span>').replace(/\b(true|false)\b/g,'<span class="boolean">$&</span>');t.innerHTML=n}(o),function(e,t){const n=document.querySelector(".response__data__bytes__size"),o=null==e?void 0:e.get("content-length"),s=`${function(e){const t=[{prefix:"",minBytes:0},{prefix:"K",minBytes:1024},{prefix:"M",minBytes:Math.pow(1024,2)},{prefix:"G",minBytes:Math.pow(1024,3)}];return t.reduce(((n,o,s)=>{const r=e>=o.minBytes,c=s+1,a=c<t.length,i=!!t[c]&&e<t[c].minBytes;if(r&&a&&i){const t=o.minBytes?o.minBytes:1,s=o.minBytes?2:0;n+=e===o.minBytes?`1${o.prefix}`:`${(e/t).toFixed(s)}${o.prefix}`}return n}),"")}(o?Number(o):(null==t||t.getReader().read().then((e=>{if("value"in e&&null!==e.value)return e.value.byteLength})),0))}B`;n.textContent=s}(s,c),function(e){const t=document.querySelector(".response__data__latency"),n=`${e.toFixed(0)}ms`;t.textContent=n,t.classList.remove("good--latency"),t.classList.remove("average--latency"),t.classList.remove("bad--latency"),e<100?t.classList.add("good--latency"):100===e||e<=500?t.classList.add("average--latency"):t.classList.add("bad--latency")}(a)}(c,a,d,l,m,y,f)}))})),a.addEventListener("click",(()=>n(i)))})();